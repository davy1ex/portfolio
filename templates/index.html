<html>
<head>
    <title>awesome</title>
    <link rel="stylesheet" href="{{ url_for("static", filename="css/bootstrap.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/base.css") }}">
    <link rel="stylesheet" href="{{ url_for("static", filename="css/about.css") }}">
</head>

<body>
    <div class="main_row row">
        <div class="left_col col-3">
            <div class="wrapper_left">
                <div class="avatar">
                    <img src="{{ url_for("static", filename="img/duck.jpg") }}" alt="">
                </div>
                <div class="fio">
                    Davydov Alexsey
                </div>
                
                <div class="profession">
                    WEB developer
                </div>

                <div class="links row">
                    <div class="col">
                        <a  href="vk.com"><img class="vk" src="{{ url_for("static", filename="img/vk.png") }}" alt="vk"></a>
                    </div>
                    
                    <div class="col">
                        <a  href="vk.com"><img class="github" src="{{ url_for("static", filename="img/github.png") }}" alt="git"></a>
                    </div>                    
                </div>

                <nav class="col">
                    <a id="about" href="#" onclick="about(redirect=true); return false;" class="row" >ABOUT ME</a>
                    <a class="row" href="/projects">PROJECTS</a>
                </nav>
                
            </div>
            <footer>
                <div class="text">
                    (c) All My
                </div>                
            </footer>
        </div>
        <div id="content" class="right_col col-9">{% block content %}{% endblock %}</div>
    </div>
    
    <script>
        function about(redirect=false) {
            if (redirect) {
                var stateObj = { foo: "bar" };
                history.pushState(stateObj, "page 2", "about_me");
            }

            // 0. создание div, куда потом помещается раздел страницы
            var div = document.getElementById('content');

            // переменная, которая делает запросы
            var xhr = new XMLHttpRequest();

            // 2. Конфигурируем её: GET-запрос на URL '/about_me'
            xhr.open('GET', '/about_me', false);

            // 3. Отсылаем запрос
            xhr.send();
            
            // 4. Пишу в div данные, возвращаемые сервером (html разметку)
            div.innerHTML = xhr.responseText
            return false;
        }
        about();
    </script>
    
</body>

</html>